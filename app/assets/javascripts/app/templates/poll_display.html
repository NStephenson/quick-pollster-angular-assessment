<form ng-submit="submitResponse(poll.id, response)">
  <h2> <a ui-sref="poll({id: poll.id})">{{poll.question}}</a></h2>
  <p> by <a ui-sref="user({id: poll.user.id})">{{poll.user.username}}</a></p>
  <div ng-repeat="response in poll.responses track by response.id" ng-switch on="poll.select_multiple">

    <input ng-switch-when="true" type="checkbox" name="{{respose.text}}" value="{{response.text}}" ng-model="$parent.$parent.response.response.id[response.id]">

    <input ng-switch-when="false" type="radio" name="responses" value="{{response.id}}" ng-model="$parent.$parent.response.response.id"> 
    {{response.text}} - {{response.selected}} {{poll.options}}
  </div> 
  <input type="submit" id="submit" value="Submit" />
  
</form>
{{response}}


